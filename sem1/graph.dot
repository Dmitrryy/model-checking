// Smart Home Security System
digraph {
    /* set direction of graph to be left-->right */
    rankdir="LR";

    S1 // Отключено
    S2 // Включено (хозяева дома), сенсоры включены, нет нарушений
    S3 // Включено (хозяева НЕ дома), распознавание питомцев ON, сенсоры включены, нет нарушений
    S4 // Включено (хозяева НЕ дома), распознавание питомцев OFF, сенсоры включены, нет нарушений
    S5 // Зафиксировано проникновение, включение сирены
    S6 // Отключение сирены после обнаруженного проникновения
    S20 // сенсоры сработали, но сигнализация по какой-то причине нет
    S21 // отключение системы без аутентификация
    S22 // pets OFF, но сигнализация не сработала на движение животного

    // TODO: DLC
    // S4 // пожар обнаружен

    S1 -> S2
    
    S2 -> S5 [label="Открыта дверь/разбито окно"]

    S3 -> S5 [label="движение человека"]
    S5 -> S6 [label="Введен верный пароль"]
    S5 -> S5 [label="Неверный пароль"]
    
    S3 -> S3 [label="Обнаружно движение питомца"]

    S6 -> S1 [label="Перезагрузка системы"]

    S2 -> S3 [label="хозяин не дома (pets ON)"]
    S2 -> S4 [label="хозяин не дома (pets OFF)"]
    S4 -> S3 [label="pets ON"]
    S3 -> S4 [label="pets OFF"]
    S4 -> S2 [label="хозяин дома"]
    S4 -> S5 [label="Обнаружено любое движение/окно/дверь"]
    S3 -> S2 [label="хозяин дома"]

    // S3->S1 [color=red]
    S3->S20 [color=red]
    S5->S21 [color=red]
    S4->S22 [color=red]
}

